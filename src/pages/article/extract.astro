---
import Layout from "@src/components/Layout.astro";
import { Debug } from "astro:components";
import {extractStructuredDataFromArticle} from "@src/lib/gpt";

let structuredData = null;

if (Astro.request.method === "POST") {
const formData = await Astro.request.formData();
const articleContent = formData.get("article"); 
structuredData = await extractStructuredDataFromArticle(articleContent);
}
---

<Layout>
  <Debug {structuredData} />
</Layout>
